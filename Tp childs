local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "TPGui"
gui.ResetOnSpawn = false

local selectedName = nil

local buttonNames = {
	"Lost Child",
	"Lost Child2",
	"Lost Child3",
	"Lost Child4"
}

-- Функция отображения надписи
local function showMessage(text, duration)
	local label = Instance.new("TextLabel", gui)
	label.Size = UDim2.new(1, 0, 0.2, 0)
	label.Position = UDim2.new(0, 0, 0.4, 0)
	label.Text = text
	label.TextScaled = true
	label.BackgroundTransparency = 1
	label.TextColor3 = Color3.new(1, 0, 0)

	task.delay(duration, function()
		if gui then gui:Destroy() end
	end)
end

-- Функция телепорта
local function teleportTo(name)
	local character = player.Character or player.CharacterAdded:Wait()
	local root = character:WaitForChild("HumanoidRootPart")
	local chars = workspace:FindFirstChild("Characters")

	if chars and chars:FindFirstChild(name) and chars[name]:FindFirstChild("Torso") then
		root.CFrame = chars[name].Torso.CFrame + Vector3.new(0, 5, 0)
	else
		showMessage("Не найдено", 2)
		return
	end

	-- Успешный телепорт → закрыть GUI
	gui:Destroy()
end

-- Кнопки выбора
for i, name in ipairs(buttonNames) do
	local btn = Instance.new("TextButton", gui)
	btn.Size = UDim2.new(0.3, 0, 0.08, 0)
	btn.Position = UDim2.new(0.1, 0, 0.1 + (i - 1) * 0.1, 0)
	btn.Text = name
	btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.TextScaled = true
	btn.BorderSizePixel = 0

	btn.MouseButton1Click:Connect(function()
		selectedName = name
		for _, child in pairs(gui:GetChildren()) do
			if child:IsA("TextButton") and child ~= btn then
				child.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
			end
		end
		btn.BackgroundColor3 = Color3.fromRGB(30, 130, 30)
	end)
end

-- Кнопка ТП
local tpBtn = Instance.new("TextButton", gui)
tpBtn.Size = UDim2.new(0.5, 0, 0.1, 0)
tpBtn.Position = UDim2.new(0.25, 0, 0.6, 0)
tpBtn.Text = "ТП"
tpBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
tpBtn.TextColor3 = Color3.new(1, 1, 1)
tpBtn.TextScaled = true
tpBtn.BorderSizePixel = 0

tpBtn.MouseButton1Click:Connect(function()
	if selectedName then
		teleportTo(selectedName)
	else
		showMessage("Цель не выбрана", 2)
	end
end)
